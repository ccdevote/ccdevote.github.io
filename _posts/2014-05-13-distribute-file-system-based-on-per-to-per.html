---
layout: post
title: 基于对等网络的分布式文件系统
tags:
  - [分布式]
category: 技术博客
---
<div id="table-of-contents">
<h2>大纲</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 引言</a>
<ul>
<li><a href="#sec-1-1">1.1. 课题研究背景</a>
<ul>
<li><a href="#sec-1-1-1">1.1.1. 大叔据时代来临</a></li>
<li><a href="#sec-1-1-2">1.1.2. 存储技术面临的挑战</a></li>
</ul>
</li>
<li><a href="#sec-1-2">1.2. P2P技术介绍</a></li>
<li><a href="#sec-1-3">1.3. 存储技术介绍</a></li>
<li><a href="#sec-1-4">1.4. 本文研究内容</a></li>
<li><a href="#sec-1-5">1.5. 全文结构</a></li>
</ul>
</li>
<li><a href="#sec-2">2. 系统设计与实现</a>
<ul>
<li><a href="#sec-2-1">2.1. 系统设计</a></li>
<li><a href="#sec-2-2">2.2. 文件系统</a></li>
<li><a href="#sec-2-3">2.3. 数据传输</a></li>
<li><a href="#sec-2-4">2.4. 冗余备份</a></li>
<li><a href="#sec-2-5">2.5. 差错校验</a></li>
<li><a href="#sec-2-6">2.6. 数据安全</a></li>
<li><a href="#sec-2-7">2.7. 错误恢复</a></li>
<li><a href="#sec-2-8">2.8. 一致性哈希</a></li>
</ul>
</li>
<li><a href="#sec-3">3. 测试与分析</a>
<ul>
<li><a href="#sec-3-1">3.1. 性能测试</a></li>
</ul>
</li>
<li><a href="#sec-4">4. 总结</a></li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 引言</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 课题研究背景</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-sec-1-1-1" class="outline-4">
<h4 id="sec-1-1-1"><span class="section-number-4">1.1.1</span> 大叔据时代来临</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
大数据（英语：Big data<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup><sup>, </sup><sup><a id="fnr.2" name="fnr.2" class="footref" href="#fn.2">2</a></sup>），或称巨量数据、海量数据、大资料，指的是
所涉及的数据量规模巨大到无法通过人工，在合理时间内达到截取、管理、处理、
并整理成为人类所能解读的信息<sup><a id="fnr.3" name="fnr.3" class="footref" href="#fn.3">3</a></sup><sup>, </sup><sup><a id="fnr.4" name="fnr.4" class="footref" href="#fn.4">4</a></sup>。在总数据量相同的情况下，与个别分析
独立的小型数据集（data set）相比，将各个小型数据集合并后进行分析可得出
许多额外的信息和数据关系性，可用来察觉商业趋势、判定研究质量、避免疾病
扩散、打击犯罪或测定实时交通路况等；这样的用途正是大型数据集盛行的原
因<sup><a id="fnr.5" name="fnr.5" class="footref" href="#fn.5">5</a></sup><sup>, </sup><sup><a id="fnr.6" name="fnr.6" class="footref" href="#fn.6">6</a></sup><sup>, </sup><sup><a id="fnr.7" name="fnr.7" class="footref" href="#fn.7">7</a></sup>。
</p>


<div class="figure">
<p><img src="/../images/bigdata.png" alt="bigdata.png" />
</p>
</div>

<p>
截至2012年，技术上可在合理时间内分析处理的数据集大小单位为艾字节
（exabytes）<sup><a id="fnr.8" name="fnr.8" class="footref" href="#fn.8">8</a></sup>。在许多领域，由于数据集过度庞大，科学家经常在分析处理
上遭遇限制和阻碍；这些领域包括气象学、基因组学<sup><a id="fnr.9" name="fnr.9" class="footref" href="#fn.9">9</a></sup>、神经网络体学、复杂
的物理模拟<sup><a id="fnr.10" name="fnr.10" class="footref" href="#fn.10">10</a></sup>，以及生物和环境研究<sup><a id="fnr.11" name="fnr.11" class="footref" href="#fn.11">11</a></sup>。这样的限制也对网络搜索、金融与
经济信息学造成影响。数据集大小增长的部分原因来自于信息持续从各种来源被
广泛收集，这些来源包括搭载传感设备的移动设备、高空传感科技（遥感）、软
件记录、相机、麦克风、无线射频辨识（RFID）和无线传感网络。自1980年代起，
现代科技可存储数据的容量每40个月即增加一倍<sup><a id="fnr.12" name="fnr.12" class="footref" href="#fn.12">12</a></sup>；截至2012年，全世界每天
产生2.5艾字节（2.5×1018）的数据<sup><a id="fnr.13" name="fnr.13" class="footref" href="#fn.13">13</a></sup>。
</p>

<p>
大数据几乎无法使用大多数的数据库管理系统处理，而必须使用“在数十、数百
甚至数千台服务器上同时平行运行的软件”<sup><a id="fnr.14" name="fnr.14" class="footref" href="#fn.14">14</a></sup>。大数据的定义取决于持有数据
组的机构之能力，以及其平常用来处理分析数据的软件之能力。“对某些组织来
说，第一次面对数百GB的数据集可能让他们需要重新思考数据管理的选项。对于
其他组织来说，数据集可能需要达到数十或数百兆字节才会对他们造成困扰。”<sup><a id="fnr.15" name="fnr.15" class="footref" href="#fn.15">15</a></sup>
</p>
</div>
</div>

<div id="outline-container-sec-1-1-2" class="outline-4">
<h4 id="sec-1-1-2"><span class="section-number-4">1.1.2</span> 存储技术面临的挑战</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
大数据时代的来临，越来越多各式各样的信息被网罗其中，形成了一个广阔宏大
的信息空间。在这个空问中,存在着海量的信息,这种模式下的分布式存储技术面
临着以下挑战：
</p>
<ol class="org-ol">
<li>存储分布的地域空间更加广阔。自从1988年Internet对外丌放以来,联网计算
机的数量增长迅速。Internet的飞速发展导致存储分布的地域空问空前扩大,
如何快速、高效、安全地让网络用户在如此浩瀚的信息海洋之中找到并获取自
己所需的资源,是存储系统必须应对的挑战之一。
</li>
<li>存储容量急剧膨胀。早期的Internet服务内容相对单一,主要是文本文件、
email、网页和图片文档等,数据量小,要求的存储空间也小。而随着网络应用
的不断发展,服务内容日趋多元化,从软件、音乐到视频、游戏等,这些服务内
容数据量大,动辄数十兆字节,其至超过1吉字节,导致存储容量急剧膨胀。这种
变化不仅要求存储系统具有巨大的存储容量,而且对存储系统的可扩展性提出
了更高的要求。
</li>
<li>对存储服务器提出了更高的要求。随着Internet地域空间的扩大,联网用户的
快速增长,给Internet高密度、海量的数据请求,这就使系统对存储服务器提了
更高的要求。掘统计,一台普通的www服务器在一分钟之内,就可能收到100万次
的数据请求。
</li>
<li>对存储的可靠件要求越柬越高。随着Internet信息化的推进,数据在企业全部
资产中所占的比例越来越大,特别是对于已经高度电子化的现代企业来说,运行
过程中积累起来的大量数据资料是最有价值的财富。如果这些数据一旦丢失或
损坏,企业将遭受沉重的打击,甚至灭顶之灾。
</li>
</ol>

<p>
针对以上挑战,人们提出了另外一种计算模式,称之为基于目录的分布式模式
(Directory.based Distributed Model)。该模式中,网络资源是分布的,客户机向
目录服务器提出服务请求,目录服务器决定哪个网络资源提供者提供服务,然后客
户机独立地与网络资源提供者联系,获取其请求的服务,系统通过目录服务器均衡
客户机流量,让多个网络资源提供者分担客户机的请求。相对于传统的客户机/服
务器模式而言,该计算模式中,服务器性能要求和带宽瓶颈问题得到了缓解,但是目
录服务器仍然是系统的热点,系统的可扩展性有限。随着基于雠emet的端系统计算
能力的迅速增强,原先在以上计算模式中通常被忽视且广泛存在的端系统成为一种
宝贵的计算资源。基于端的无中心模式(Peer-based Decentralized Model)应运
而生,该模式也称为对等计算模式(Pe*to.Peer Model),即P2P计算模式。在P2P计
算模式中所有节点是对等的,这些节点既是客户机同时又是服务器,称之为对等机
(SER惭cliENT’SERVENT),节点之间通过协作互惠的原则共享彼此的资源。这种计
算模式具有诸如无中心、自组织以及高可扩展性等特征,为构建可靠、可扩
</p>
</div>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> P2P技术介绍</h3>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> 存储技术介绍</h3>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> 本文研究内容</h3>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> 全文结构</h3>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 系统设计与实现</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 系统设计</h3>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 文件系统</h3>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> 数据传输</h3>
</div>
<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> 冗余备份</h3>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> 差错校验</h3>
</div>
<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> 数据安全</h3>
</div>
<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7"><span class="section-number-3">2.7</span> 错误恢复</h3>
</div>
<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8"><span class="section-number-3">2.8</span> 一致性哈希</h3>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 测试与分析</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> 性能测试</h3>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 总结</h2>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.2" name="fn.2" class="footnum" href="#fnr.2">2</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.3" name="fn.3" class="footnum" href="#fnr.3">3</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.4" name="fn.4" class="footnum" href="#fnr.4">4</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.5" name="fn.5" class="footnum" href="#fnr.5">5</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.6" name="fn.6" class="footnum" href="#fnr.6">6</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.7" name="fn.7" class="footnum" href="#fnr.7">7</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.8" name="fn.8" class="footnum" href="#fnr.8">8</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.9" name="fn.9" class="footnum" href="#fnr.9">9</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.10" name="fn.10" class="footnum" href="#fnr.10">10</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.11" name="fn.11" class="footnum" href="#fnr.11">11</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.12" name="fn.12" class="footnum" href="#fnr.12">12</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.13" name="fn.13" class="footnum" href="#fnr.13">13</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.14" name="fn.14" class="footnum" href="#fnr.14">14</a></sup> <p>DEFINITION NOT FOUND.</p></div>

<div class="footdef"><sup><a id="fn.15" name="fn.15" class="footnum" href="#fnr.15">15</a></sup> <p>DEFINITION NOT FOUND.</p></div>


</div>
</div>
