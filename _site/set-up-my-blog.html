<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>博客搭建小记</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/timeline.css" />
    <!--<link rel="stylesheet" href="css/bootstrap.css"/>-->
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="/js/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>
    <!--<script src="js/jquery.js" type="text/javascript"></script>-->
    <script src="/js/main.js" type="text/javascript"></script>
    <!-- Time Line plugin-->
    <script src="/js/timeline.js" type="text/javascript"></script>
</head>
<body>
<div class="container">
    <h1>Welcome to my blog!</h1>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-7">
            <div class="logo" height="400px">
                Logo
            </div>
        </div>
        <div  class="col-md-5">
            <div class="navbar navbar-info nav-holder" role="navigation">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/index.html">Afanty</a>
                </div>
                <ul class="nav navbar-nav">
                    <li class="basic-menu" ><a href="/index.html">首页</a></li>
                    <li class="basic-menu" ><a href="about.html">关于我</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<hr>
<div class="container">
    <div class="row">
        <div class="col-md-3">
           <div class="panel-info">
                <div class="panel-heading">统计信息</div>
                <div class="panel-body">
                    <ul>
                        <li>文章数：</li>
                        <li>访客数：</li>
                    </ul>
                </div>
            </div>
            <div class="panel-divider"></div>
            <div class="panel-info">
                <div class="panel-heading">分类信息</div>
                <div class="panel-body">
                    <ul>
                        <li>文章数：</li>
                        <li>访客数：</li>
                    </ul>
                </div>
            </div>
            <div class="panel-divider"></div>
            <div class="panel-info">
                <div class="panel-heading">相关文章</div>
                <div class="panel-body">
                    <ul>
                        <li>文章数：</li>
                        <li>访客数：</li>
                    </ul>
                </div>
            </div>
	    <div class="panel-divider"></div>
            <div class="panel-info">
                <div class="panel-heading">评论信息</div>
                <div class="panel-body">
                    <ul>
                        <li>文章数：</li>
                        <li>访客数：</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-md-9">
	    <h1>博客搭建小记</h1>
总字数：471|类别:
<div id="post">
<p>
一直想搭建一个自己的博客，这两天终于下定决心搞起了，博客搭建的不算费力，中间投机
取巧了很多东西，下面就来记录一下整个搭建过程，希望对您有所帮助。
</p>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 架构</h2>
<div class="outline-text-2" id="text-1">
<p>
架构两个字貌似有点大，不过也找不到什么合适的词汇了。我的博客采用的是jekyll、
github.io、Emacs、org-mode。具体的操作流程是用Emacs的org-mode写博客，然后直接生
成为jekyll所需要的格式，再提交到github上。下面先简单介绍一下jekyll和github.io：
</p>
<ul class="org-ul">
<li>Jekyll（发音/'dʒiːk əl/，"杰克尔"）是一个静态站点生成器，它会根据网页源码生成
静态文件。它提供了模板、变量、插件等功能，所以实际上可以用来编写整个网站。
</li>
<li>github.io 是github提供的一个博客平台吧，可以让我们写好的博客通过git管理（当然
不止能写博客，还可以发挥想想做一些其他的事情了）github.io通过Jekyll生成网页内
容，也就是说我们写好了一个符合Jekyll规范的博文，然后提交到github上就就什么都
不用管了，github会帮我们生成好网页，然后我们可以通过github.io上绑定的域名访
问。
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 搭建步骤</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 在github上创建空间</h3>
<div class="outline-text-3" id="text-2-1">
<p>
如果想通过github托管项目，那么最重要最重要的事情就是……申请一个github帐号。然
后按照下面的步骤操作：
</p>
<ul class="org-ul">
<li>创建一个repository,命名为 username.github.io,uername是你的用户名。
</li>
<li>检出到本地
<div class="org-src-container">

<pre class="src src-python">git clone username.github.io blog
</pre>
</div>
</li>
<li>写一个网页测试一下
<div class="org-src-container">

<pre class="src src-python">cd blog
echo <span style="color: #66cccc;">"hello world"</span> &gt;&gt; index.html
git add index.html
git commit -m <span style="color: #66cccc;">"test my blog"</span>
git push
</pre>
</div>
<p>
提交之后等几分钟，解析生效后我们就可以通过 <a href="http://username.github.io">http://username.github.io</a> 进行访问
了。
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 安装Jekyll</h3>
<div class="outline-text-3" id="text-2-2">
<p>
关于Jekyll我不想解释太多，具体的安装方式可以参考官方文档 <a href="http://jekyllrb.com/">http://jekyllrb.com/</a>
如果需要中文文档那么请参考 <a href="http://jekyllcn.com">http://jekyllcn.com</a> 或者
<a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html">http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html</a> 之所以没有详
细介绍是因为我也没有仔细去看。但是不仔细看也是可以做出来自己的博客的，对！那
就时fork！ github上有很多牛人使用Jekyll开发自己的博客了，我们找一个自己喜欢的
fork下来修改一下就可以了（这才是真正的懒人博客）毕竟写博客的目的不是为了造一
个博客呀…… 我fork的是这个（ <a href="https://github.com/mojombo">https://github.com/mojombo</a> ）fork下来我们还需要做
下面几件事情：
</p>
<ul class="org-ul">
<li>根据自己的口味修改，主要就是修改_ layout/目录下的模板还有css、js、images等等
</li>
<li>启动Jekyll测试
<div class="org-src-container">

<pre class="src src-python">jekyll serve -w <span style="color: #999999; font-style: italic;">#</span><span style="color: #999999; font-style: italic;">&#24320;&#21551;Jekyll&#26381;&#21153;&#22120;</span>
</pre>
</div>
<p>
启动成功以后会提示绑定在0.0.0.0:4000端口上，我们可以在浏览器中访问这个地址，
就能够看到博客的效果了。
</p>
</li>
</ul>
<p>
接下来给大家介绍一下Jekyll的运行原理：
</p>
<ul class="org-ul">
<li>Jekyll 在启动的时候会读取_ config.yml，这里主要是一些配置信息，详细参考官网
</li>
<li>启动后默认会把_ posts目录下的文件生成博客，这些文件需要有一个符合YAML的头部
信息才会被Jekyll解析，如：
<div class="org-src-container">

<pre class="src src-python">---
layout: post
title : hello world
---
</pre>
</div>
<p>
这个简短的头信息指定了布局模板和文章标题。此外，还需要有符合格式的文件名，
默认为日期-文件名.html 当然我们可以通过_ config.yml进行配置
</p>
<div class="org-src-container">

<pre class="src src-python">2014-02-12-&#21338;&#23458;&#23567;&#35760;.html
</pre>
</div>
<p>
这是标准默认的文件名。
</p>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> 书写博客</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Emacs的org-mode是一个写博客的神器，他的好处不是本文的重点，我也就不再赘述，下
面主要介绍以下如何用Emacs快速的写出符合Jekyll的博客，有标准的头，有合理的文件
名……原始的方法是这样的：
</p>
<ul class="org-ul">
<li>用org-mode写博客
</li>
<li>导出为html文件
</li>
<li>添加合理的文件头
</li>
<li>修改一个合理的文件名
</li>
<li>移动到_ posts 目录中
</li>
</ul>
<p>
额，太繁琐了，有没有更好的方法呢？必须的…… 更好的方法需要一个Emacs的插件，这
个插件时网上一个大神的杰作，我也是拿来用的。名字叫org-jekyll-mode (
<a href="https://github.com/jsuper/org-jekyll-mode">https://github.com/jsuper/org-jekyll-mode</a> ) 这个插件方便好用，优势如下：
</p>
<ul class="org-ul">
<li>可以直接创建出文件名带有时间的文件
</li>
<li>可以直接从emacs中导出到_ posts 目录中
</li>
<li>可以只导出body里面的内容并且添加了文件头
</li>
</ul>
<p>
如此一来原始方法的5步操作就可以一步搞定了，是不是很省心呀？下面我们就来介绍以
下如何安装配置org-jekyll-mode：
</p>
<ul class="org-ul">
<li>下载org-jekyll-mode
<div class="org-src-container">

<pre class="src src-python">git clone https://github.com/jsuper/org-jekyll-mode
</pre>
</div>
</li>
<li>安装org-jekyll-mode <b>org-jekyll-mode</b> 依赖org-mode 8.0版本，首先要确保你的版
本对应，在Emacs中可以通过如下指令查看:
<div class="org-src-container">

<pre class="src src-python">M x org-version
</pre>
</div>
<p>
如果显示的是8.0或者更高的版本那么就可以继续安装了,配置.emacs
</p>
<div class="org-src-container">

<pre class="src src-lisp">(add-to-list 'load-path <span style="color: #66cccc;">"path to org-jekyll-mode"</span>)
(<span style="color: #99cc99;">require</span> '<span style="color: #6699cc;">org-jekyll-mode</span>)
<span style="color: #999999; font-style: italic;">;;</span><span style="color: #999999; font-style: italic;">&#35774;&#23450;jekyll&#36335;&#24452;--&#20320;&#30340;&#21338;&#23458;&#36335;&#24452;</span>
(setq org-jekyll/jekyll-project-root <span style="color: #66cccc;">"path to you jekyll home"</span>)
<span style="color: #999999; font-style: italic;">;;</span><span style="color: #999999; font-style: italic;">&#35774;&#23450;org&#25991;&#20214;&#23384;&#25918;&#30340;&#22320;&#22336;--&#21338;&#23458;&#28304;&#25991;&#20214;&#23384;&#25918;&#22320;&#22336;</span>
(setq org-jekyll/org-mode-project-root <span style="color: #66cccc;">"/home/soft/document/blog/org"</span>)
</pre>
</div>
<p>
如此一来，就安装完成了，打开emacs 执行
</p>
<div class="org-src-container">

<pre class="src src-python">M x org-jekyll-mode
C c C d  <span style="color: #999999; font-style: italic;"># </span><span style="color: #999999; font-style: italic;">&#26681;&#25454;&#25552;&#31034;&#36755;&#20837;&#25991;&#20214;&#21517;&#23601;&#21487;&#20197;&#21019;&#24314;&#20986;&#20197;&#24403;&#21069;&#26085;&#26399;&#20026;&#21069;&#32512;&#30340;&#25991;&#20214;</span>
C c p    <span style="color: #999999; font-style: italic;"># </span><span style="color: #999999; font-style: italic;">&#21457;&#24067;&#24403;&#21069;&#25991;&#20214;&#21040;_ posts&#30446;&#24405;&#20013;</span>
</pre>
</div>
<p>
关于org-jekyll-mode的详细介绍可以参考
<a href="http://blog.sina.com.cn/s/blog_c589e9cd0101iji8.html">http://blog.sina.com.cn/s/blog_c589e9cd0101iji8.html</a>
</p>
</li>
</ul>
<p>
这样通过Emacs写的博客就发布到Jekyll上了，我们可以访问localhost:4000查看一
下。
</p>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> 发布博客</h3>
<div class="outline-text-3" id="text-2-4">
<p>
博客书写完以后就是要发布到github上了，然后别人就可以通过
your-username.github.io访问你的博客了。
</p>
<div class="org-src-container">

<pre class="src src-python">git add .
git commmit -m <span style="color: #66cccc;">" my first blog"</span>
git push
</pre>
</div>
<p>
还是等一小会就可以在github上访问了
</p>
</div>
</div>

<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> 绑定自己的域名</h3>
<div class="outline-text-3" id="text-2-5">
<p>
如果你有自己的域名，那么只需要通过简单的设置就可以通过自己的域名访问博客。创
建一个名为CNAME的文件放在你的博客目录中，文件中写入你的域名，然后提交就可以了。
过一段时间域名解析生效就可以访问了。
</p>
</div>
</div>
</div>

</div>

<!-- <div id="related"> -->
<!--   <h2>Related Posts</h2> -->
<!--   <ul class="posts"> -->
<!--      -->
<!--       <li><span>23 Mar 2014</span> &raquo; <a href="/elisp-basic-1.html">Elisp学习笔记一</a></li> -->
<!--      -->
<!--       <li><span>21 Mar 2014</span> &raquo; <a href="/emacs/org-mode-1.html">Org-mode学习笔记一</a></li> -->
<!--      -->
<!--       <li><span>19 Mar 2014</span> &raquo; <a href="/simple-git-guid.html">Git 学习笔记</a></li> -->
<!--      -->
<!--   </ul> -->
<!-- </div> -->
<!-- comments powered by Disqus-->
<div class="panel-divider"></div>
<div class="container">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'ccdevote'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<!--end comments-->

            
        </div>
    </div>
</div>

<div class="container">
  <hr>
  <center>
  Zhiyong Ma<br />
  ccdevote@gmail.com<br/>
  <a href="http://github.com/ccdevote/">github.com/ccdevote</a>
  </center>
</div>
<div class="fix-layout">
    <div id="_returnTop_layout_inner" class="gb-operation-area">
        <a id="goto_top_btn" class="gb-operation-button return-top" href="javascript:;">
            <i class="gb-operation-icon" title="返回顶部"></i>
            <span class="gb-operation-text">顶部</span>
        </a>
        <!-- <a id="" class="gb-operation-button report" href="javascript:;" style="display: block;"> -->
        <!--     <i class="gb-operation-icon" title="举报"></i> -->
        <!--     <span class="gb-operation-text">举报</span> -->
        <!-- </a> -->
    </div>
</div>

</body>
</html>
